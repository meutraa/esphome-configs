packages:
  athom.rgbct-light: github://athom-tech/athom-configs/athom-rgbct-light.yaml

esphome:
  friendly_name: ${friendly_name}
  name_add_mac_suffix: false

api:
  encryption:
    key: ${api_key}

text_sensor:
  - id: !extend wifi_info
    bssid:
      name: "Connected BSSID"    

sensor:
  - platform: wifi_signal
    name: "${friendly_name} WiFi Signal"
    id: wifi_signal_db
  - platform: copy
    source_id: wifi_signal_db
    name: "${friendly_name} WiFi Signal Percent"
    filters:
      - lambda: return min(max(2 * (x + 100.0), 0.0), 100.0);
    unit_of_measurement: "%"
    entity_category: "diagnostic"
    device_class: ""

wifi:
  ssid: ${wifi_ssid}
  password: ${wifi_password}
  power_save_mode: none
  fast_connect: true
  manual_ip:
    static_ip: "192.168.1.${address}"
    gateway: 192.168.1.1
    subnet: 255.255.255.0
